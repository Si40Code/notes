{{- define "main" -}}
<main class="container">
  <section class="list-section">
    <div class="section-heading">
      <h1>{{ .Title }}</h1>
      {{ with .Params.description }}
      <p>{{ . }}</p>
      {{ end }}
    </div>
    {{- if gt (len .Paginator.Pages) 0 -}}
    <div class="post-grid">
      {{- range .Paginator.Pages -}}
      <article class="post-card">
        <a href="{{ .RelPermalink }}">
          <div class="post-card-meta">
            {{- with .Date -}}
            <time datetime="{{ .Format "2006-01-02" }}">{{ .Format "2006-01-02" }}</time>
            {{- end -}}
            {{- $minutes := .ReadingTime -}}
            <span class="separator">·</span>
            <span>{{ cond (lt $minutes 2) "约 1 分钟读完" (printf "%d 分钟读完" $minutes) }}</span>
          </div>
          <h2 class="post-card-title">{{ .Title }}</h2>
          {{- if .Params.summary -}}
          <p class="post-card-summary">{{ .Params.summary }}</p>
          {{- else if .Summary -}}
          <p class="post-card-summary">{{ .Summary | plainify | truncate 120 }}</p>
          {{- end -}}
          {{- with .Params.tags -}}
          <ul class="post-card-tags">
            {{- range . -}}
            <li>#{{ . }}</li>
            {{- end -}}
          </ul>
          {{- end -}}
        </a>
      </article>
      {{- end -}}
    </div>
    {{- else -}}
    <p>这里暂时还没有内容，稍后再来看。</p>
    {{- end -}}
    {{- partial "pagination.html" .Paginator -}}
  </section>
</main>
{{- end -}}
